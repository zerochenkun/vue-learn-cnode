<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>自定义事件</title>
</head>
<body>
<div id="app">
  <div>
    您现在的银行余额是{{total}}
  </div>

  <son-component @change-total="handelTotal"></son-component>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
  Vue.component('son-component', {
    template: `<div>
                <button @click="add1000" >+1000</button>
                <button @click="minus1000">-1000</button>
                    conunt is {{count}}
              </div>`,
    data: function () {
      return {
        count: 20000
      }
    },
    methods: {
      add1000: function () {
        this.count += 1000
        this.$emit('change-total', this.count)
      },
      minus1000: function () {
        this.count -= 1000
        this.$emit('change-total', this.count)
      }
    }
  })
  var app = new Vue({
    el: '#app',
    data: {
      total: 20000,
    },
    methods: {
      handelTotal:function (value) {
        this.total = value;
      }
    }
  })
</script>
</html>